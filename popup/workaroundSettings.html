<html>
    <head>
        <link href="/libs/material-icons/material-icons.css" rel="stylesheet">
        <link rel="stylesheet" href="/libs/materialize/materialize.min.css"/>
        <link href="popup.css" rel="stylesheet">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>
    <body>
        <!-- NavBar -->
        <nav class="nav navbar">
            <div class="nav-wrapper">
                <a class="brand-logo center">Workarounds</a>
                <a href="/popup/settingsMenu.html"><i class="material-icons back_button">arrow_back</i></a>
            </div>
        </nav><br>

        <h5>Options</h5>
        <p>
            <label>
                <input id="enableExperimentalFix" type="checkbox" class="filled-in"/>
                <span>Enable experimental fix</span>
            </label>
            <p class="helper-text">
                On certain websites, such as some gaming sites, AudioBufferSourceNode is used for audio playback.
                To allow Librezam to function on these sites, this option must be enabled.
                However, this feature is experimental and very unstable, and may cause critical bugs such as audio delay or duplication.
            </p>
        </p>

        <h5>Hosts</h5>

        <div class="input-field col s12">
            <textarea id="noDoubleHosts" class="materialize-textarea" style="height:72px;" placeholder="  "></textarea>
            <label for="noDoubleHosts">Hosts to prevent audio duplication</label>
            <p class="helper-text">
                If the volume doubles when attempting to recognise a song on Librezam, please add that site's hostname.
                Adding host here will have no effect when the issue is caused by the experimental fix.
            </p>
        </div>

        <div class="input-field col s12">
            <textarea id="noAppendHosts" class="materialize-textarea" style="height:72px;" placeholder="  "></textarea>
            <label for="noAppendHosts">Hosts to prevent append headless audio</label>
            <p class="helper-text">
                If you encounter issues with certain websites whilst just Librezam is installed, add the host here.
            </p>
        </div>

        <div class="input-field col s12">
            <textarea id="corsHosts" class="materialize-textarea" style="height:72px;" placeholder="  "></textarea>
            <label for="corsHosts">Hosts to be treated as a CORS source</label>
            <p class="helper-text">
                If you encounter sites where audio is muted and elements are not detected when attempting to recognise songs, add the host here.
            </p>
        </div>

        <script src="/libs/materialize/materialize.min.js"></script>
        <script src="./workaroundSettings.js" type="module"></script>
        <script src="./syncBackground.js" type="module"></script>
    </body>
</html>
